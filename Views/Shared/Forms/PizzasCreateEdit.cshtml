@using la_mia_pizzeria_crud_mvc.Models
@model PizzaWithCategory

@Html.AntiForgeryToken()
<div class="form-group">
    <label>Nome pizza:</label>
    <input type="text" asp-for="Pizza.Name" class="form-control" placeholder="Inserisci nome">
    <span asp-validation-for="Pizza.Name" class="text-danger"></span>
</div>
<div class="form-group">
    <label>Descrizione pizza:</label>
    <input type="text" asp-for="Pizza.Description" class="form-control" placeholder="Inserisci descrizione">
    <span asp-validation-for="Pizza.Description" class="text-danger"></span>
</div>
<div class="form-group">
    <label>Immagine pizza:</label>
    <input type="text" asp-for="Pizza.Image" class="form-control" placeholder="Inserisci url immagine">
    <span asp-validation-for="Pizza.Image" class="text-danger"></span>
</div>
<div class="form-group">
    <label>Prezzo pizza:</label>
    <input type="number" step="0.01" asp-for="Pizza.Price" class="form-control" placeholder="Inserisci prezzo">
    <span asp-validation-for="Pizza.Price" class="text-danger"></span>
</div>
<div class="form-group">
    <label>Categoria pizza:</label>
    <select asp-for="Pizza.CategoryId" class="form-select">
        @foreach (Category category in Model.Categories)
        {
            @if(Model.Pizza.CategoryId == category.CategoryId)
            {
                <option value="@category.CategoryId" selected>@category.Name</option>
            }
            else
            {
                <option value="@category.CategoryId">@category.Name</option>
            }
        }
    </select>
    <span asp-validation-for="Pizza.CategoryId" class="text-danger"></span>
</div>
<div class="form-group">
    <label>Ingredienti pizza:</label>
    <select asp-for="SelectedIngredients" multiple="multiple" size="10" class="form-select">
        @foreach (Ingredient ingredient in Model.Ingredients)
        {
            @if (Model.Pizza.Ingredients.Contains(ingredient))
            {
                <option value="@ingredient.IngredientId" selected>@ingredient.Name</option>
            }
            else
            {
                <option value="@ingredient.IngredientId">@ingredient.Name</option>
            }
           
        }
    </select>
    <span asp-validation-for="SelectedIngredients" class="text-danger"></span>
</div>

<button type="submit" class="btn btn-primary">Submit</button>
